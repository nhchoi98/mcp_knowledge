---
title: VARCO Translation API í˜ì´ì§€ ë Œë”ë§ ê°œì„ 
tags: []
created: ""
updated: ""
source: ""
status: draft
---
# VARCO Translation API í˜ì´ì§€ ë Œë”ë§ ê°œì„ 

ê°œì„  ì§€í‘œ: FCP, LCP 

# Login í˜ì´ì§€

## ì™œ ê°œì„ ì„ í•˜ê²Œ ëëŠ”ê°€?

ë¡œê·¸ì¸ í˜ì´ì§€ì— ë¡œê·¸ì¸ ëœ ì‚¬ìš©ì, ì¦‰ í† í°ì´ ì•„ì§ validí•œ ì‚¬ìš©ìì˜ ê²½ìš°ì—ëŠ” loginì°½ì„ ê°€ì§€ ëª»í•˜ê²Œ ìœ„í•´ ê¸°ì¡´ì—ëŠ” ë°±ì—”ë“œì—ëŠ” await me()ì™€ await refresh() , ì¦‰ ê¶Œí•œì„ í™•ì¸í•˜ê¸° ìœ„í•´ routerì˜ loginGuardë¥¼ ì„¤ì •í•´ ë‘ì—ˆìŒ. ê·¸ëŸ°ë°, ì´ê²Œ lighthouseë¡œ ì¸¡ì •í•´ë³´ë‹ˆ FCP(First Contentful Paint)ë¥¼ ë§ì´ ëŠ¦ì¶”ëŠ” ìš”ì†Œë¡œ ì‘ìš©í•  ìˆ˜ ìˆë‹¤ëŠ”, ì¦‰ Network dependency treeë¡œì¨ ì‘ìš© ê°€ëŠ¥í•˜ë‹¤ëŠ” ë¶€ë¶„ì„ í™•ì¸í•¨

## ë³€ê²½ ë°©ì‹

### ë„¤íŠ¸ì›Œí¬ dependency tree ì œê±°

ìš°ì„ , ë¡œê·¸ì¸ í˜ì´ì§€ ë Œë”ë§ ì‹œ ì¸ì¦ì²´í¬í•˜ëŠ” í˜¸ì¶œ ë¶€ë¶„ ì‚­ì œ. 

ì›ë˜ëŠ” zustand storeì—ì„œ ë¡œë“œëœ ì •ë³´ë¥¼ ê°€ì§€ê³  ì—†ë‹¤ë©´ ë‹¤ì‹œ í•œ ë²ˆ ì¸ì¦ í† í°ì„ ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆì—ˆìœ¼ë‚˜, í˜ì´ì§€ ë¡œë”© ìì²´ë¥¼ ëŠë¦¬ê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì— ì´ë¥¼ guardì—ì„œ ì œì™¸í•˜ì˜€ìŒ. 

```jsx
1. Mount Phase (ì´ˆê¸° ë Œë”ë§)
â”œâ”€â”€ Component í•¨ìˆ˜ ì‹¤í–‰
â”œâ”€â”€ useState ì´ˆê¸°í™” (email='', password='', ...)
â”œâ”€â”€ useMeStoreì—ì„œ storeEmail êµ¬ë… (ì´ˆê¸°ê°’: undefined)
â”œâ”€â”€ JSX ë°˜í™˜ â†’ DOM ë Œë”ë§
â””â”€â”€ ë¸Œë¼ìš°ì € í˜ì¸íŠ¸ âœ… (ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í¼ ë´„)
2. Effect Phase (ë Œë”ë§ í›„)
â””â”€â”€ useEffect ì½œë°± ì‹¤í–‰
	â”œâ”€â”€ from !== 'oauth' â†’ ê³„ì† ì§„í–‰
	â”œâ”€â”€ storeEmail === undefined â†’ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì•ˆí•¨
	â””â”€â”€ me() í˜¸ì¶œ â† ğŸ”¥ ì—¬ê¸°ì„œ /users/me API ìš”ì²­
		â”œâ”€â”€ ì„±ê³µ â†’ storeEmail ì—…ë°ì´íŠ¸ â†’ ë¦¬ë Œë”ë§ â†’ ë¦¬ë‹¤ì´ë ‰íŠ¸
		â””â”€â”€ ì‹¤íŒ¨ â†’ ë¬´ì‹œ (ë¡œê·¸ì¸ í˜ì´ì§€ ìœ ì§€)
```

ì¡°ê¸ˆ ë” ê³ ë¯¼ í•„ìš”

## ë¶ˆí•„ìš” ì²­í¬ ë‹¤ìš´ë¡œë“œ ì•ˆí•˜ê²Œ ë¶„ë¦¬

```jsx
// í˜„ì¬ route/index.tsì˜ lazy loadingê³¼ ê²°í•©

/login ì ‘ì† ì‹œ:
â”œâ”€â”€ react-vendor.js (11KB)     âœ… ë¡œë“œ
â”œâ”€â”€ router.js (83KB)           âœ… ë¡œë“œ
â”œâ”€â”€ chakra-ui.js (497KB)       âœ… ë¡œë“œ (UI í•„ìš”)
â”œâ”€â”€ login-xxx.js (5KB)         âœ… ë¡œë“œ
â”œâ”€â”€ xlsx.js (332KB)            âŒ ë¡œë“œ ì•ˆí•¨ (glossaryì—ì„œë§Œ í•„ìš”)
â””â”€â”€ i18n.js (55KB)             âœ… ë¡œë“œ

/glossaries ì ‘ì† ì‹œ:
â””â”€â”€ xlsx.js (332KB)            âœ… ì´ë•Œ ë¡œë“œ (ì—‘ì…€ ì—…ë¡œë“œ ê¸°ëŠ¥)
```

ì•„ë˜ ì§€í‘œë“¤ì€ ë¡œê·¸ì¸ì°½ë§Œì„ ê¸°ì¤€ìœ¼ë¡œí•¨. 

| ì§€í‘œ | Before (ì˜ˆìƒ) | After (ì¸¡ì •) | ê°œì„ ìœ¨ |
| --- | --- | --- | --- |
| ê°€ì¥ í° JS ë²ˆë“¤ | 1,624 KB | 497.49 KB | __% |
| JS ì²­í¬ ìˆ˜ | 1ê°œ | 44ê°œ | - |
| ì´ˆê¸° ë¡œë“œ (gzip) | ~487 KB | 511.95 KB | __% |
| build time | 12.76s | 11.54s |  |
| FCP (Lighthouse) | ___s | ___s | __% |
| LCP (Lighthouse) | ___s | ___s | __% |
| TBT (Lighthouse) | ___ms | ___ms | __% |
| Performance Score | ___ | ___ | +___ |

| ê´€ì  | ë‹¨ì¼ ë²ˆë“¤ | ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… |
| --- | --- | --- |
| **ì´ gzip í¬ê¸°** | 487 KB | ~550 KB (+13%) |
| **ì‹¤ì œ ì´ˆê¸° ë¡œë“œ** | 487 KB | ~280 KB (**-43%**) |
| **ë³‘ë ¬ ë‹¤ìš´ë¡œë“œ** | âŒ | âœ… |
| **ì¬ë°©ë¬¸ ìºì‹œ** | ì „ì²´ ë¬´íš¨í™” | ì¼ë¶€ë§Œ ê°±ì‹  |
| **í˜ì´ì§€ë³„ ë¡œë“œ** | ì „ì²´ | í•„ìš”í•œ ê²ƒë§Œ |

# ì „ë°˜ì ì¸ ë²¤ì¹˜ë§ˆí¬ ì„±ëŠ¥

## íŠ¹ì • í˜ì´ì§€ ê¸°ì¤€

- Chrome ê°œë°œì ë„êµ¬ ê¸°ì¤€ disable  cache, 3G í™˜ê²½ìœ¼ë¡œ ì¸¡ì •

## Before

| í˜ì´ì§€ | JS ìš”ì²­ ìˆ˜ | Transferred | DOMContentLoaded | Load | Finish |
| --- | --- | --- | --- | --- | --- |
| `/login` | 6ê°œ | 578 KB | 16.01s | 16.01s | 20.05s |
| `/glossaries` | 6ê°œ | 579 KB | 15.83s | 15.83s | 20.04s |
| `/extractors` | 5ê°œ | 580KB | 15.97s | 15.97s | 20.15s |
| `/services` | 9ê°œ | 580 KB | 15.91s | 15.91s | 22.26s |

## After

| í˜ì´ì§€ | JS ìš”ì²­ ìˆ˜ | Transferred | DOMContentLoaded | Load | Finish |
| --- | --- | --- | --- | --- | --- |
| `/login` | 12ê°œ | 371 KB | 11.53s | 11.53s | 17.94s |
| `/glossaries` | 27ê°œ | 393 KB | 11.57s | 11.56s | 22.13s |
| `/extractors` | 27ê°œ | 521KB | 11.50s | 11.50s | 24.48s |
| `/services` | 9ê°œ | 409 KB | 11.62s | 11.62s | 22.47s |

ì „ë°˜ì ì¸ ì§€í‘œë“¤ì€ ê°œì„ ë˜ì—ˆìœ¼ë‚˜, ì˜¤íˆë ¤ FinishëŠ” ë‚˜ë¹ ì§€ëŠ” ê²°ê³¼ê°€ ìƒê¹€. LCPëŠ” ê°œì„ ë˜ì—ˆìŒì´ ê¸ì •ì  í¬ì¸íŠ¸.

- **RTT(Round Trip Time)**: ì•½ 300-600ms
- **ìš”ì²­ë‹¹ ì˜¤ë²„í—¤ë“œ**: TCP ì—°ê²° + TLS í•¸ë“œì…°ì´í¬ + HTTP ìš”ì²­/ì‘ë‹µ
- 27ê°œ ìš”ì²­ Ã— 300ms RTT =Â **ì•½ 8ì´ˆ ì¶”ê°€ ì§€ì—°**

| í˜ì´ì§€ | Score (Performance) | FCP | LCP | TBT |
| --- | --- | --- | --- | --- |
| `/login`Â (Before) | 98 | 0.8s | 1.0s | 40ms |
| `/login`Â (After) | 99 | 0.7s | 0.8s | 0ms |
| `/glossaries`Â (Before) | 98 | 0.8s | 1.0s | 70ms |
| `/glossaries`Â (After) | 98 | 0.8s | 1.0s | 0ms |
| /service (Before) | 95 | 0.9s | 1.1s | 120ms |
| /service (After) | 95 | 0.8s | 1.1s | 140ms |

### 1.Â **TBT (Total Blocking Time) ëŒ€í­ ê°œì„ **Â ğŸ‰

```jsx
/login:      40ms â†’ 0ms   (100% ê°œì„ )
/glossaries: 70ms â†’ 0ms   (100% ê°œì„ )
```

TBT 0ms =Â **ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì—†ìŒ**Â = ì‚¬ìš©ì ì¸í„°ë™ì…˜ì´ ì¦‰ì‹œ ë°˜ì‘

"**TBTê°€ 0ms**ë¼ëŠ” ê²ƒì€ í˜ì´ì§€ ë¡œë“œ ì‹œ ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ 50ms ì´ìƒ ì ìœ í•˜ëŠ” **Long Taskê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤**ëŠ” ëœ»ì…ë‹ˆë‹¤.

CSR í™˜ê²½ì—ì„œëŠ” ì´ˆê¸°ì— ì‹¤í–‰í•  JSê°€ ë§ì•„ TBTê°€ ë†’ì•„ì§€ê¸° ì‰¬ìš´ë°, ì´ë¥¼ 0msì— ê°€ê¹ê²Œ ìœ ì§€í–ˆë‹¤ëŠ” ê²ƒì€ **ì½”ë“œ ë¶„í• (Code Splitting)** ë“±ì„ í†µí•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë‹¨ìœ„ë¥¼ ì‘ê²Œ ìª¼ê°œì–´, ë¸Œë¼ìš°ì €ê°€ ì–¸ì œë“  ì‚¬ìš©ì ì…ë ¥ì— ì¦‰ê° ì‘ë‹µí•  ìˆ˜ ìˆëŠ” ìƒíƒœë¥¼ ë§Œë“¤ì—ˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤."

### 2.Â **/login í˜ì´ì§€ LCP ê°œì„ **

```jsx
1.0s â†’ 0.8s (20% ê°œì„ )
```

isCheckingAuthÂ ë¡œë”© ìƒíƒœ + lazy loading íš¨ê³¼

### 3.Â **/service í˜ì´ì§€ëŠ” ë³€í™” ë¯¸ë¯¸**

```jsx
TBT: 120ms â†’ 140ms (ì•½ê°„ ì¦ê°€)
```

ì´ê±´ í•´ë‹¹ í˜ì´ì§€ì— ë¬´ê±°ìš´ ì»´í¬ë„ŒíŠ¸ê°€ ìˆì–´ì„œì¼ ìˆ˜ ìˆìŒ

---

## **ê²°ë¡ **

| ìµœì í™” í•­ëª© | íš¨ê³¼ |
| --- | --- |
| manualChunksÂ (ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…) | ì´ˆê¸° ë²ˆë“¤ í¬ê¸° ê°ì†Œ |
| `React.lazy()`Â (ë¼ìš°íŠ¸ ê¸°ë°˜ ìŠ¤í”Œë¦¬íŒ…) | TBT ëŒ€í­ ê°œì„  |
| isCheckingAuthÂ (ë¡œê·¸ì¸ í¼ flash ë°©ì§€) | /login LCP ê°œì„  |
| `modulepreload`Â (Vite ìë™) | ì²­í¬ ë³‘ë ¬ ë¡œë“œ |

**ëª©í‘œ ë‹¬ì„±!**Â ğŸ‰

- âœ… Lighthouse ì ìˆ˜ ìœ ì§€ (95-99)
- âœ… TBT ê±°ì˜ 0msë¡œ ê°œì„ 
- âœ… ì´ˆê¸° ì „ì†¡ëŸ‰ 36% ê°ì†Œ (580KB â†’ 371KB)
- âœ… DOMContentLoaded 4.5ì´ˆ ê°œì„  (3G í™˜ê²½)

## Chunk ì“°ë©´ ì¢‹ì€ ì´ìœ 

```jsx
Before (ì¼ë°˜ import):
import ServicePage from '@/pages/services';
â†’ ëª¨ë“  í˜ì´ì§€ê°€ index.jsì— í¬í•¨ (580KB ë‹¨ì¼ ë²ˆë“¤)

After (React.lazy):
const ServicePage = lazy(() => import('@/pages/services'));
â†’ ê° í˜ì´ì§€ê°€ ë³„ë„ ì²­í¬ë¡œ ë¶„ë¦¬
â†’ í•´ë‹¹ ë¼ìš°íŠ¸ ì ‘ê·¼ ì‹œì—ë§Œ ë¡œë“œ
```

## ë¹Œë“œ ê²°ê³¼

```jsx
dist/assets/
â”œâ”€â”€ index-DMUT7z_n.js      (294KB) â† ê³µí†µ ì½”ë“œ
â”œâ”€â”€ index-qVXWwedK.js      (35KB)  â† /services í˜ì´ì§€
â”œâ”€â”€ index-hORmj84H.js      (56KB)  â† /glossaries í˜ì´ì§€
â”œâ”€â”€ index-DJyk7oLp.js      (22KB)  â† /extractors í˜ì´ì§€
â”œâ”€â”€ index-C-zTrrY9.js      (14KB)  â† /login í˜ì´ì§€
â””â”€â”€ ...
```

## **Suspense ì—°ë™ (Default.tsx)**

```jsx
// layouts/Default.tsx
<Suspense
  fallback={
    <Center h="100%" minH="200px">
      <Spinner size="xl" color="blue.500" />
    </Center>
  }
>
  <Outlet />  {/* lazy ì»´í¬ë„ŒíŠ¸ê°€ ì—¬ê¸°ì— ë Œë”ë§ */}
</Suspense>
```

`React.lazy()`ë¡œ ë¡œë“œë˜ëŠ” ë™ì•ˆÂ **Spinner**ê°€ í‘œì‹œë˜ê³ , ë¡œë“œ ì™„ë£Œ í›„ í˜ì´ì§€ê°€ ë Œë”ë§ë©ë‹ˆë‹¤.

## ìš©ì–´ì§‘ ìƒì„¸ í˜ì´ì§€

| í˜ì´ì§€ |  | FCP | LCP | TBT |
| --- | --- | --- | --- | --- |
| before |  | 0.9s | 1.1s | 540ms |
| after |  | 0.7s | 1.1s | 0ms |

| í•­ëª© | Before | After |
| --- | --- | --- |
| Dialog ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ (20í–‰ ê¸°ì¤€) | 20ê°œ | **1ê°œ** |
| useQuery í›… ì¸ìŠ¤í„´ìŠ¤ | 20ê°œ | **1ê°œ** |
| DOM ë…¸ë“œ ìˆ˜ | ë§ìŒ | **95% ê°ì†Œ** |

## React Queryì˜ placeholder

React Queryì—Â `placeholderData`

## **Optimistic Update**

### .Lighthouse 'Timespan' ëª¨ë“œ í™œìš©

Lighthouseì—ì„œë„ ìµœì‹  ë²„ì „ë¶€í„°ëŠ” íŠ¹ì • êµ¬ê°„ì˜ ì„±ëŠ¥ì„ ì¸¡ì •í•˜ëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

1. Lighthouse íƒ­ì—ì„œ Modeë¥¼ **Navigation**ì´ ì•„ë‹Œ **Timespan**ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
2. **Start timespan**ì„ ëˆ„ë¦…ë‹ˆë‹¤.
3. ìš”ì†Œë¥¼ ì¶”ê°€/ì‚­ì œí•˜ëŠ” ë“± í˜ì´ì§€ë¥¼ ë§ˆìŒê» ì¡°ì‘í•©ë‹ˆë‹¤.
4. **End timespan**ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ì¡°ì‘ ê¸°ê°„ ë™ì•ˆ ë°œìƒí•œ ì„±ëŠ¥ ì´ìŠˆ(TBT ë“±)ë¥¼ ë¦¬í¬íŠ¸ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.

## **TBT ê°œì„ ì„ ìœ„í•œ ìµœì í™” ì •ë¦¬**

### ë¬¸ì œ ìƒí™©

`/glossaries/detail`Â í˜ì´ì§€ì˜Â **TBT (Total Blocking Time)**Â ê°€Â **540ms+**Â ë¡œ ë†’ì•˜ìŠµë‹ˆë‹¤.

**Lighthouse ë¶„ì„ ê²°ê³¼:**

| Category | Time |
| --- | --- |
| Script Evaluation | 1,020 ms |
| Style & Layout | 217 ms |
| Other | 1,214 ms |

---

### ê·¼ë³¸ ì›ì¸

í˜ì´ì§€ ë¡œë“œ ì‹œÂ **ëª¨ë“  ì½”ë“œê°€ ë™ì‹œì— ì‹¤í–‰**ë˜ë©´ì„œ ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ì˜¤ë˜ ì ìœ í•¨:

1. **ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸ë“¤**Â (AddEntry, EditNameDialog ë“±) - ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ê¸° ì „ê¹Œì§€ í•„ìš” ì—†ìŒ
2. **ListContentì˜ ë¬´ê±°ìš´ hooks**Â (mutation hooks, columnOrder ë“±) - ë°ì´í„° ë¡œë”© ì™„ë£Œ ì „ê¹Œì§€ í•„ìš” ì—†ìŒ

---

### ì ìš©í•œ ìµœì í™”

### 1. List ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (ListContainer + ListContent)

**Before:**

```jsx
List.tsx (ëª¨ë“  hooksê°€ ì¦‰ì‹œ ì‹¤í–‰)
â”œâ”€â”€ useEntryMutation (3ê°œ)
â”œâ”€â”€ useColumnOrder
â”œâ”€â”€ useState, useCallback, useMemo...
â””â”€â”€ í…Œì´ë¸” ë Œë”ë§
```

**After:**

```jsx
ListContainer.tsx (ê°€ë²¼ì›€)
â”œâ”€â”€ useGlossaryEntryQuery (ë¡œë”© ìƒíƒœë§Œ í™•ì¸)
â”œâ”€â”€ isLoading ? <TableSkeleton /> : <ListContent />
â””â”€â”€ ListContentë¥¼ lazy(() => import())ë¡œ ë¡œë“œ

ListContent.tsx (ë¬´ê±°ì›€ - lazy load)
â”œâ”€â”€ useEntryMutation (3ê°œ)
â”œâ”€â”€ useColumnOrder
â””â”€â”€ í…Œì´ë¸” ë Œë”ë§
```

**íš¨ê³¼:**Â ë°ì´í„° ë¡œë”© ì¤‘ì—ëŠ” ê°€ë²¼ìš´ Skeletonë§Œ í‘œì‹œ, ë¬´ê±°ìš´ ì½”ë“œ ì‹¤í–‰ ì§€ì—°

lazyì™€ ë Œë”ë§ ê´€ë ¨ ì—°ê²° ê³ ë¦¬, ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹, importë¬¸ ì‹¤í–‰, reactì˜ hook ì‹¤í–‰