---
title: Vite
tags: []
created: ""
updated: ""
source: ""
status: draft
---
# Vite

# ğŸ“Œ Viteì˜ ë‘ ê°€ì§€ ë™ì‘ ì›ë¦¬

## 1. ê°œë°œ ë‹¨ê³„ â†’ **ESM ê¸°ë°˜ (Native ES Modules)**

- ViteëŠ” dev serverì—ì„œ **ë²ˆë“¤ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
- ë¸Œë¼ìš°ì €ê°€ ESMì„ ì§€ì›í•˜ë¯€ë¡œ, ìš”ì²­ëœ ëª¨ë“ˆë§Œ on-demandë¡œ ë³€í™˜í•´ì„œ ì œê³µí•©ë‹ˆë‹¤.
- ì¥ì :
    - **ì´ˆê¸° ê¸°ë™ ì†ë„ ë¹ ë¦„** (ì „ì²´ ë²ˆë“¤ ì•ˆ ë§Œë“¤ê³ , ìš”ì²­ ì‹œ ë³€í™˜)
    - **HMR ì¦‰ê° ë°˜ì˜** (ìˆ˜ì •ëœ ëª¨ë“ˆë§Œ ë‹¤ì‹œ ë³´ë‚´ì£¼ë©´ ë¨)
- ê²°ê³¼ì ìœ¼ë¡œ â€œê°œë°œ ê²½í—˜(DX)â€ì´ í›¨ì”¬ ì¾Œì í•©ë‹ˆë‹¤.

---

## 2. í”„ë¡œë•ì…˜ ë‹¨ê³„ â†’ **Rollup ê¸°ë°˜ ë²ˆë“¤ë§**

- ìµœì¢… ë°°í¬ ì‹œì—ëŠ” ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ê³¼ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ **Rollupìœ¼ë¡œ ì „ì²´ ë²ˆë“¤ë§**í•©ë‹ˆë‹¤.
- Rollupì€ ê°•ë ¥í•œ **íŠ¸ë¦¬ ì…°ì´í‚¹**, **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**, **ìµœì í™”ëœ ë²ˆë“¤ êµ¬ì¡°**ë¥¼ ì§€ì›.
- ì¦‰, ê°œë°œì€ â€œë¹ ë¥´ê³  ë‹¨ìˆœí•˜ê²Œâ€, ë°°í¬ëŠ” â€œìµœì í™”ëœ ë²ˆë“¤â€ë¡œ ë‹¤ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

---

# âš ï¸ ë™ì‘ ì°¨ì´ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œ

1. **ë™ì  import ì°¨ì´**
    - Dev ëª¨ë“œ(ESM): `import()` ì‹œ ë¸Œë¼ìš°ì €ê°€ ì§ì ‘ ì²˜ë¦¬.
    - Build ëª¨ë“œ(Rollup): Rollupì´ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ëœ ì²­í¬ë¡œ ë³€í™˜ â†’ ê²½ë¡œ/ë™ì‘ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ.
2. **í™˜ê²½ ë³€ìˆ˜**
    - Dev: `import.meta.env`ë¥¼ í†µí•´ ë…¸ì¶œ.
    - Build: ì‹¤ì œë¡œëŠ” Rollupì´ ì¹˜í™˜í•´ì„œ ë²ˆë“¤ì— í¬í•¨.
3. **í”ŒëŸ¬ê·¸ì¸/í˜¸í™˜ì„±**
    - Dev: ë¯¸ë³€í™˜ëœ ESMì„ ì§ì ‘ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì¼ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” dev ëª¨ë“œì—ì„œ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥.
    - Build: Rollupì´ CommonJS/UMD â†’ ESM ë³€í™˜ì„ ì²˜ë¦¬í•´ì„œ í•´ê²°ë¨.

# **UnderstandingÂ vite-env.d.ts**

TheÂ vite-env.d.tsÂ file serves as aÂ **TypeScript declaration file**Â that provides type information for modules and assets that TypeScript doesn't understand by default in a Vite project.

## **What It Does**

### 1.Â **Vite Client Types Reference**

- 
- 
- 
- 

This triple-slash directive imports Vite's built-in type definitions, which include:

- `import.meta.env`Â typings for environment variables
- `import.meta.hot`Â for HMR (Hot Module Replacement) API
- Default asset types (images, CSS, JSON, etc.)

### 2.Â **Custom Module Declarations**

```jsx
declare module '*.xlsx' {
  const src: string;
  export default src;
}
```

This tells TypeScript: "When you import aÂ `.xlsx`Â file, it will give you aÂ `string`Â (the URL to the asset)."

Without this declaration, TypeScript would throw the error you saw:

```jsx
Cannot find module '@/assets/glossary_extraction_template.xlsx'
```

## **How It Works in Your Case**

When you write:

```jsx
import templateFile from '@/assets/glossary_extraction_template.xlsx';
```

1. **Vite**Â (at build time) processes theÂ `.xlsx`Â file as a static asset and returns a URL string
2. **TypeScript**Â (at type-check time) uses theÂ `declare module '*.xlsx'`Â to understand thatÂ `templateFile`Â is of typeÂ `string`
3. You can then use it:Â `link.href = templateFile;`

## **Why It's Needed**

TypeScript only understandsÂ `.ts`,Â `.tsx`,Â `.js`,Â `.jsx`Â files by default. For other file types (images, fonts, Excel files, etc.), you need to explicitly declare their types so:

- âœ… TypeScript won't throw compilation errors
- âœ… You get proper type checking and autocomplete
- âœ… The import statement is recognized as valid

## **Common Pattern in Vite Projects**

This file typically lives inÂ vite-env.d.tsÂ and extends Vite's default type definitions with project-specific asset types like:

- `.xlsx`Â (Excel files)
- `.pdf`Â (PDF documents)
- `.mp3`,Â `.wav`Â (audio files)
- `.woff`,Â `.woff2`Â (custom fonts)

All of these would need similarÂ `declare module`Â statements if you want to import them directly in TypeScript.

- **Entry point ë¶„ì„**: `src/main.tsx` ê°™ì€ ì§„ì…ì  ì°¾ê¸°
- **ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±**: ì–´ë–¤ ëª¨ë“ˆë“¤ì´ í•„ìš”í•œì§€ íŒŒì•…
- **Code splitting**: í° ë²ˆë“¤ì„ ì—¬ëŸ¬ ì²­í¬ë¡œ ë¶„í• 
- **Modulepreload ìƒì„±**: ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì£¼ìš” ì²­í¬ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ë„ë¡ íƒœê·¸ ì¶”ê°€
- **HTML ë³€í™˜**: ì›ë³¸ HTMLì˜ `<script src="/src/main.tsx">` ê°™ì€ íƒœê·¸ë¥¼ ë¹Œë“œëœ íŒŒì¼ ê²½ë¡œë¡œ êµì²´